ظهار بيانات المستخدم الحقيقية بدلاً من التجريبية
الهدف:
جعل كل جزء في التطبيق (الهيدر، الصفحة الرئيسية، إلخ) يعرض بيانات المستخدم الحقيقية والمحدثة، وليس بيانات ثابتة أو تجريبية، بعد تسجيل الدخول.

1. تعديل الـ API في الباكند (Backend):
يجب أن تعيد الواجهات (Endpoints) مثل /api/user أو /api/user-profile أو أي Endpoint آخر بيانات المستخدم كاملة من قاعدة البيانات وليس فقط (id, username).
يجب أن تشمل على الأقل:
إجمالي الألعاب لهذا المستخدم.
آخر لعبة لعبها.
المستخدمون المرتبطون (إن وجدت هذه الميزة).
المستوى.
الكروت.
أي حقول أخرى تعرض في الواجهة ويحتاجها المستخدم.
إذا كانت هناك بيانات موزعة في جداول مختلفة (مثل الكروت أو المستوى)، اجمعها في نفس Endpoint أو أنشئ Endpoints منفصلة لكل واحدة (مثلاً /api/user-cards, /api/user-level, ...)
مثال عملي:

js
17 lines
Click to expand
// نقطة نهاية تعيد بيانات كاملة للمستخدم
app.get('/api/user', authenticate, async (req, res) => {
...
2. التأكد من أن واجهة الـ React (الفرونت) تجلب البيانات الحقيقية:
كل المكونات (Header, Home, إلخ) يجب أن تستخدم فقط البيانات القادمة من API بعد تسجيل الدخول.
لا تستخدم أي بيانات ثابتة (hardcoded) أو placehold أو بيانات تجريبية.
js
5 lines
Click to close
import { useAuth } from "@/hooks/use-auth";
const { user } = useAuth();
...
3. تأكد من أن عمليات تسجيل الدخول (login) و تسجيل الحساب (register) تعيد الـ user بالكامل
أي عملية تسجيل دخول أو انشاء مستخدم جديد يجب أن تُعيِد الـ user مع بياناته الكاملة وليس فقط (id, username).
4. ملاحظات مهمة:
قد تحتاج لتطوير قاعدة البيانات/مخزن البيانات (إضافة الحقول الجديدة اللازمة).
إذا كان جلب البيانات للواجهة يتم عبر عدة Endpoints، اربطها بالكامل بعد تسجيل الدخول.
بعد نجاح تسجيل الدخول يجب أن تظهر البيانات المحدثة بدون الحاجة لإعادة تحميل الصفحة.
5. مثال على المطلوب:
المستخدم سجل الدخول:
تعرض له في الهيدر أو الصفحة الرئيسية:
إجمالي ألعابه الحقيقية من قاعدة البيانات
آخر لعبة لعبها
عدد الكروت الحقيقية في حسابه
مستواه الحقيقي
قائمة ألعابه الحقيقية، …إلخ
وتحدّث تلقائيًا بعد كل عملية دخول.
إذا كنت تحتاج أي تفاصيل إضافية أو مثال عملي للواجهة أو الـ API، وضّح لي أين تريد.

ملخص الطلب للمبرمج:

غيّر كل مواطن جلب بيانات المستخدم التجريبية أو المعلومات غير الصحيحة في السيرفر وفي واجهة المستخدم، بحيث بعد تسجيل الدخول أو تحديث الحساب تظهر فقط بيانات حقيقية مأخوذة فعليًا من قاعدة البيانات الخاصة بالمستخدم الذي قام بتسجيل الدخول.

